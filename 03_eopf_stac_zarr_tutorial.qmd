---
title: "Explore the EOPF zarr STAC Catalog"
code-block-background: true
---

### Introduction
The [EOPF Sentinel Zarr Samples Service STAC API](https://stac.browser.user.eopf.eodc.eu/?.language=en) offers and ensures access to the reingeneered version of the Sentinel 1, Sentinel 2 and Sentinel 3 data missions.<br>
It allows us to easily explore, locate and retrieve the available `.zarr` Sentinel assets into a user-friendly interface. <br>
This section will guide users through exploring the EOPF Sentinel Zarr Samples Service STAC catalog.<br>
We will navigate its interface, inspect the various levels of information, and demonstrate how to access the underlying Sentinel data in Zarr format.

### What we will learn
- ‚öôÔ∏è How does the STAC browser interface work
- üî¶ Explore the available Collections within the EOPF Sentinel Zarr Samples Service STAC
- üì° How to obtain access to EOPF Sentinel Zarr products from the EOPF Sentinel Zarr Samples Service STAC Catalog

<hr>

## Our Starting Point
The first step is to access the main homepage of the EOPF Sentinel Zarr Samples Service STAC API, available at [https://stac.browser.user.eopf.eodc.eu/?.language=en](https://stac.browser.user.eopf.eodc.eu/?.language=en) <br>
Upon accessing the landing page of the¬†**EOPF Sentinel Zarr Samples Service STAC Catalog**, we get a comprehensive overview of the available data collections. This serves as our **root node** or **initial entry** point into the catalog.

![Home page](img/home_page.png){fig-align="center"}

Three main areas can be identified: (i) the **API and URL** display, (ii) **Searching** and (iii) **Collections Display**. <br>
As outlined in detail in our chapter [The EOPF Available Datasets](1_overview_eopf_datasets.qmd), the catalogue is structured to display¬†the 11 distinct collections¬†derived from Sentinel-1, Sentinel-2, and Sentinel-3 missions. <br>
The user interface provides an intuitive way to browse all these collections. It is possible to filter them by specific criteria or select them manually, allowing precise control over the displayed data. 
<br>
This ensures we can select data based on our desired processing level, matching the analysis we need.

## Sentinel Collections

It is possible to click on any of the 11 displayed collections.<br>
Here, we select the [Sentinel 2-Level-2A](https://stac.browser.user.eopf.eodc.eu/collections/sentinel-2-l2a). To follow this tutorial, [click here] (https://stac.browser.user.eopf.eodc.eu/collections/sentinel-2-l2a) to get access to the same collection.

![Sentinel-2 Level-2A Collection](img/sentinel_2_collection.png){fig-align="center"}

On the landing page, we can identify 5 main sections.

1. **Description**: The name and a brief introduction to the available collection. This includes crucial details such as the **temporal extent** (the period over which the data was acquired)
2. **API and URL**: for further application.
3. **Spatial Extent**:  The geographical area of the displayed items is shown on the map. 
4. **Available Items**: On the right-hand side of the page, a list of links for the items contained within the collection corresponds to the selected collection.
5. **Collection Metadata**: A general overview of the Collection‚Äôs metadata, its providers, instruments, and the corresponding DOIs for research.

Furthermore, within each Collection's view, comprehensive **metadata** is provided. <br>
The visual correlation between the map and the item list streamlines discovery of the **spatial coverage** the mission has.

Additionally, specific information about the bands and instruments used for each mission, along with mission-specific data like backscatter or reflectance information (depending on whether it belongs to a Sentinel-1, Sentinel-2, or Sentinel-3 collection), is readily accessible.

![Metadata and general information available for the collection](img/sentinel2l2a_meta.png){fig-align="center"}

### Filtering

Any selected Collection (in this case Sentinel-2 Level-2A) allows us to filter the items of our interest by **temporal** and **spatial** extent.<br>
We can access this tab by clicking on **Show Filters** on the right side under the **Items** section. 

![Fields that allow multiple filter parameter](img/show_filter.png){fig-align="center"}

Then, it is possible to select on the calendar a specific period we are interested in.<br>
This is particularly useful when we are interested in a temporal analysis.

![Filtering over time](img/temporal_filter.png){fig-align="center"}

Also, the interface allows us to select a space we are interested in by checking the **Filter by spatial extent** box.<br> 
There is a map that activates and allows us to draw a bounding box that we can modify to our convenience.

![Filtering over spatial extent](img/spatial_filter.png){fig-align="center"}

Once we select the desired period and area over the filters, we can sort the items that match our search by ID, Date and Time, or display the number of them we are interested in.

![Resulting Items](img/filtered_results.png){fig-align="center"}

Then, we can select any of the resulting items, and this will enable us to access a specific `.zarr` item inside the collection.

## Item Specifications

When a specific item sparks our interest, clicking on it will transition the view to a detailed overview page for that selected item. <br>

This page is composed of:

1. **Description**: The name of the Item. Depending on the mission and collection it belongs to, the composition of the name changes.
2. **Spatial Extent**:  The geographical footprint of the selected item is shown on the map. 
3. **Collection Metadata**: A general overview of the Collection‚Äôs metadata, its providers, instruments, resolution, grid and the corresponding DOIs for research.
4. **API and URL**: Allows the entry point for further retrieval of the individual assets.
5. **Assets menu**: lists all the contained elements that comprise the selected Item. These are composed of the actual retrieved data and associated resources.

![A, item selected inside the collection Sentinel-2 Level-2A Collection](img/finland_item.png){fig-align="center"}

Note: at this point, we are already diving deep into the STAC structure, and have explored all the prior levels described in the [Introduction to STAC](03_stac_intro.qmd) chapter.

## Assets 

Inside the selected Item, it is possible to have an overview of the available assets that comprise it.<br>
By expanding the **dropdown menu** for any selected Asset, users can access its specific metadata and, most importantly, the actual information in an array form. <br>
In the **Sentinel-2 Level-2A** case, each asset available corresponds to one of the 13 spectral bands available and their corresponding resolutions.<br>
The array information provides details about the structure and content of the data, hinting at the actual values contained within the asset. It also contains the chunking grid specification and all the crucial metadata necessary to structure and process the data.

### Downloading an Asset.

For direct data access, the EOPF Catalog, allows two retrieval methodologies.<br>
The ESA EOPF initiative is currently developing plugins that will serve along several interfaces such as `python`, `R` , `Julia` and **Qgis** to access the `zarr` encoding.

![Download and assets information](img/download_img.png){fig-align="center"}

1. **Download**: It is possible to download only one asset separately in `.zarr` format by clicking the *Download* option associated with an Asset. <br>

2. **Copy URL**: EOPF STAC Catalog, also provides the possibility of retrieving the URL link, which allows us to make a request via the API that the catalog provides. We can get it by simply clicking on the *Copy URL* option under the asset of our interest.


## üí™ Now it is your turn

We encourage you to explore the [EOPF Sentinel Zarr Samples Service STAC Catalog](https://stac.browser.user.eopf.eodc.eu/?.language=en) on your own. <br>

Filter other Collections, besides the [Sentinel-2 Level-2A Collection](https://stac.browser.user.eopf.eodc.eu/collections/sentinel-2-l2a?.language=en).<br>

Go again to the [EOPF STAC homepage](https://stac.browser.user.eopf.eodc.eu/?.language=en), and try the following:

1. **Discovering Sentinel-1 GRD Data**: Navigate to the [Sentinel-1 Level-1 GRD Collection](https://stac.browser.user.eopf.eodc.eu/collections/sentinel-1-l1-grd?.itemFilterOpen=1&language=en). 
- How many items can you find for the most recent two years available in the catalog?
- Try filtering by different time periods and observe how the results change. How many items are available for September 2023?
2. **Mapping Your Interests**: Explore the interactive map within the  [Sentinel-1 Level-1 GRD](https://stac.browser.user.eopf.eodc.eu/collections/sentinel-1-l1-grd?.itemFilterOpen=1&language=en) and the [Sentinel-2 Level-2A](https://stac.browser.user.eopf.eodc.eu/collections/sentinel-2-l2a?.language=en) collections.
- Can you identify and list the names of at least three distinct geographical areas where a significant number of items are available? (Hint: Look for clusters of the displayed items!)
3. **Unpacking an Asset**: Select an item from any collection that looks interesting to you. Click on it to view its details. Then, expand one of the assets. 
- What kind of array information is provided?
- Who is the data provider?
- How would this information be useful if you were to process this data?

## Conclusion

This tutorial has provided a comprehensive walkthrough of the [EOPF Sentinel Zarr Samples Service STAC API](https://stac.browser.user.eopf.eodc.eu/?.language=en). <br>
We have demonstrated how to navigate its interface, from the initial overview of ESA EOPF's selected data collections to the detailed inspection of an individual item. 
By understanding the catalog's structure, exploring its filtering options, and identifying key metadata, we can efficiently access the re-engineered `zarr` items. <br>
The ability to directly download assets or retrieve their cloud storage location enables an efficient retrieval for further analysis.<br>
<br>
In the next chapter, we will explore an alternative workflow to retrieve assets based on the API of the EOPF Sample Service through `pystac` and the `pystac-client` libraries available through python.